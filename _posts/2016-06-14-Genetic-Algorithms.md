---
layout: post
title: Genetic Algorithms!
subtitle: Genes and stuff with One Max!
---

This is my first post, how exciting! I figured for it, I'd post about a super rad area of research that I'm playing with: genetic algorithms and evolution programs! 

Genetic algorithms are those which traverse a search space with a population of "answers". Each "answer" has a number of internal elements called alleles, which have a fitness value generated by a given function defining the search space. The population of the search space, the "chromosomes" each undergo a series of steps: 


* Selection
     * Each chromosome generates a given fitness value via some fitness function. There exist differing methods of selection, but here for the sake of ease, we'll use tournament selection. Tournament selection selects two individual chromosomes in the population at random and competes them against each other. The winner is then placed into the new population. The winner is chose based upon its probability of selection generated from its fitness function divided by the sum of all fitness functions(population fitness). (Note, the initial population skips this step because it is generated at random)
     
<center> p(x) = (ƒ(x) / ∑ƒ(x)), such that ∑p(x) = 1.  </center>
     


 ![](/img/geneticalgorithms/Selection.png)

* Crossover
    * Once a new population has been selected from the old, members of this new population are then chosen and crossed with each other. This can be done in a number of ways, we will do it solely through iterating through the population where parents are determined by position within the population (i.e. chromosomes 0 and 1 cross, 2 and 3 cross, etc). Each chromosome pair has a given likelihood of undergoing crossover (usually,  p<sub>crossover</sub> ≈ 0.7). If the probability is hit, then crossover is done by taking portions of the chromosome's alleles and crossing them with each other by generating an arbitrary cutpoint and swapping chromosome data after the cut: 
    
      ![](/img/geneticalgorithms/Crossover.png)
    
* Mutation
    * Post crossover, each chromosome also has a likelihood to mutate to help explore new possibilities. In order to maintain exploiting the selected chromosomes from earlier, the probability of mutation is typically pretty low, somewhere around  p<sub>mutation</sub> ≈ 0.1 . Depending on how your chromosomes are set up, this could be very well be different. All that really needs to get across is that the mutation rate is lower than the crossover rate (we'll talk more about this below). 

      ![](/img/geneticalgorithms/Mutation.png)


## One Max!
A very well known example of a genetic algorithm is a toy problem known as "One Max" (sometimes "Max One"). The chromosomes are set up as a bit string (i.e. each individual allele within the chromosome is either a "0" or a "1"). The fitness function for One Max is just an addition of all j alleles (i.e. each individual element of the string): 
f(x) ∑<sub>i=1</sub><sup>j</sup> x[i] where j = number of alleles in the chromosome. 

With our fitness function, we want to maximize the number of ones in the bitstring. We do this by going through the steps above! 

* Selection (Skip this for the first generation!) 
    * For each chromosome, we'll count up all of their alleles. After calculating the fitness functions for all, we add them all up to generate the population fitness. We can then generate the probability of selection for each individual from the p<sub>selection</sub> function above. 
    
        ![](/img/geneticalgorithms/OneMaxFitness.png)

    * We now randomly choose two individual chromosomes from the population and compete them against each other. The winner then moves onto a new generation. This is done N times for the size of the population.   


![](/img/geneticalgorithms/OneMaxSelection.png)


* Crossover
    * Once selection has generated a new population, we take our current population, and begin to cross them! As said above, there are many ways to undergo crossover. Here, we'll cross population members by proximity (chromosome 0 crosses with chromosome 1, chromosome 3 crosses with chromosome 4, etc). 

      ![](/img/geneticalgorithms/OneMaxCross.png)

* Mutation
    * Just like above, we mutate our chromosomes! 
* Repeat until a stopping condition is reached. 
    * For One Max, our stopping condition will be when our fitness value equals the number of alleles. 

After enough generations, the population will converge on the best possible answer it could find (which is a bitstring of all 1s). To see the code for this in swift, check out [my github page](https://github.com/LaneMatthewJ/OneMax). 
